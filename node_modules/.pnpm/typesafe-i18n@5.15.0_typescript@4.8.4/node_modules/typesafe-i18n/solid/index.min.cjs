"use strict";var y=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var R=(e,t)=>{for(var n in t)y(e,n,{get:t[n],enumerable:!0})},$=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of k(t))!C.call(e,r)&&r!==n&&y(e,r,{get:()=>t[r],enumerable:!(s=S(t,r))||s.enumerable});return e};var w=e=>$(y({},"__esModule",{value:!0}),e);var U={};R(U,{initI18nSolid:()=>_});module.exports=w(U);var l=require("solid-js");var j=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>t!=="i"&&n&&n!="0"&&[t,n]).filter(Boolean)),I=e=>Object.fromEntries(Object.keys(e).map(t=>{let n=e[t];return[t,Array.isArray(n)?n.map(s=>s==null?void 0:s.trim()):n===!!n?n:n==null?void 0:n.trim()]})),h=e=>{let[t="",...n]=e.split("|"),[s="",r]=t.split(":"),[a,o]=s.split("?");return{k:a,i:r,n:o==="",f:n}},D=(e,t)=>{let[n,s]=e.split(":");s||(s=n,n=t);let r=s.split("|"),[a,o,i,T,d,c]=r,p=r.filter(b=>b!==void 0).length;return p===1?{k:n,r:a}:p===2?{k:n,o:a,r:o}:p===3?{k:n,z:a,o,r:i}:{k:n,z:a,o,t:i,f:T,m:d,r:c}},x=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,g=e=>e.substring(1,e.length-1),P=(e,t=!0,n="",s="")=>e.split(x).map(r=>{if(!r.match(x))return r;let a=g(r);if(a.startsWith("{"))return D(g(a),s);let o=h(a);return s=o.k||s,!n&&(n=s),o}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=n||"0");let a=I(r);return t?j(a):a});var f=e=>!!(e.o||e.r),E=/^\{.*\}$/,z=(e,t,n)=>t.reduce((s,r)=>{var a,o;return(o=r.match(E)?(()=>{var T;let i=Object.fromEntries(g(r).split(",").map(d=>d.split(":").map(c=>c.trim())));return(T=i[s])!=null?T:i["*"]})():(a=e[r])==null?void 0:a.call(e,s))!=null?o:s},n),O=(e,{z:t,o:n,t:s,f:r,m:a,r:o},i)=>{switch(t&&i==0?"zero":e.select(i)){case"zero":return t;case"one":return n;case"two":return s;case"few":return r;case"many":return a;default:return o}},M=/\?\?/g,G=(e,t,n,s)=>e.map(r=>{if(typeof r=="string")return r;let{k:a="0",f:o=[]}=r,i=s[a];if(f(r))return((typeof i=="boolean"?i?r.o:r.r:O(t,r,i))||"").replace(M,i);let T=o.length?z(n,o,i):i;return(""+(T!=null?T:"")).trim()}).join(""),m=(e,t,n,s)=>{let r=s[0],a=r&&typeof r=="object"&&r.constructor===Object,o=s.length===1&&a?r:s;return G(e,t,n,o)};var u=()=>new Proxy(Object.assign(()=>"",{}),{get:(e,t)=>t==="length"?0:u()});var F=(e,t)=>e[t]||(e[t]=P(t));var v=(e,t)=>{let n={},s=new Intl.PluralRules(e);return(r,...a)=>m(F(n,r),s,t,a)};function B(e,t,n={}){return L(t,v(e,n))}var A=(e={},t)=>typeof e=="string"?t.bind(null,e):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),e),L=(e,t)=>new Proxy(A(e,t),{get:(n,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(n).map(r=>A(r,t))):L(n[s],t)});var _=(e,t={})=>{let n=(0,l.createContext)({});return{TypesafeI18n:a=>{let[o,i]=(0,l.createSignal)(null),[T,d]=(0,l.createSignal)(u()),c=p=>(0,l.batch)(()=>{i(()=>p),d(()=>B(p,e[p],t[p]))});return c(a.locale),(0,l.createComponent)(n.Provider,{value:{locale:o,LL:T,setLocale:c},get children(){return a.children}})},useI18nContext:()=>(0,l.useContext)(n)}};
