var b=t=>Object.fromEntries(Object.entries(t).map(([n,e])=>n!=="i"&&e&&e!="0"&&[n,e]).filter(Boolean)),R=t=>Object.fromEntries(Object.keys(t).map(n=>{let e=t[n];return[n,Array.isArray(e)?e.map(s=>s==null?void 0:s.trim()):e===!!e?e:e==null?void 0:e.trim()]})),k=t=>{let[n="",...e]=t.split("|"),[s="",r]=n.split(":"),[a,i]=s.split("?");return{k:a,i:r,n:i==="",f:e}},S=(t,n)=>{let[e,s]=t.split(":");s||(s=e,e=n);let r=s.split("|"),[a,i,o,l,T,p]=r,g=r.filter(d=>d!==void 0).length;return g===1?{k:e,r:a}:g===2?{k:e,o:a,r:i}:g===3?{k:e,z:a,o:i,r:o}:{k:e,z:a,o:i,t:o,f:l,m:T,r:p}},m=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,c=t=>t.substring(1,t.length-1),x=(t,n=!0,e="",s="")=>t.split(m).map(r=>{if(!r.match(m))return r;let a=c(r);if(a.startsWith("{"))return S(c(a),s);let i=k(a);return s=i.k||s,!e&&(e=s),i}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=e||"0");let a=R(r);return n?b(a):a});var P=t=>!!(t.o||t.r),$=/^\{.*\}$/,w=(t,n,e)=>n.reduce((s,r)=>{var a,i;return(i=r.match($)?(()=>{var l;let o=Object.fromEntries(c(r).split(",").map(T=>T.split(":").map(p=>p.trim())));return(l=o[s])!=null?l:o["*"]})():(a=t[r])==null?void 0:a.call(t,s))!=null?i:s},e),j=(t,{z:n,o:e,t:s,f:r,m:a,r:i},o)=>{switch(n&&o==0?"zero":t.select(o)){case"zero":return n;case"one":return e;case"two":return s;case"few":return r;case"many":return a;default:return i}},C=/\?\?/g,D=(t,n,e,s)=>t.map(r=>{if(typeof r=="string")return r;let{k:a="0",f:i=[]}=r,o=s[a];if(P(r))return((typeof o=="boolean"?o?r.o:r.r:j(n,r,o))||"").replace(C,o);let l=i.length?w(e,i,o):o;return(""+(l!=null?l:"")).trim()}).join(""),y=(t,n,e,s)=>{let r=s[0],a=r&&typeof r=="object"&&r.constructor===Object,i=s.length===1&&a?r:s;return D(t,n,e,i)};var u=()=>new Proxy(Object.assign(()=>"",{}),{get:(t,n)=>n==="length"?0:u()});var f=(t,n)=>t[n]||(t[n]=x(n));var h=(t,n)=>{let e={},s=new Intl.PluralRules(t);return(r,...a)=>y(f(e,r),s,n,a)};function A(t,n,e={}){return B(n,h(t,e))}var F=(t={},n)=>typeof t=="string"?n.bind(null,t):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),t),B=(t,n)=>new Proxy(F(t,n),{get:(e,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(e).map(r=>F(r,n))):B(e[s],n)});var L=t=>new Proxy(t,{get:(n,e)=>!(typeof e!="string"||e.startsWith("__v_"))&&n[e]}),q=(t,n,e,s={})=>{let r=Symbol("typesafe-i18n");return{typesafeI18n:()=>t(r),i18nPlugin:{install:(o,l)=>{let T=n(l),p=n(L(u())),g=d=>{T.value=d,p.value=L(A(d,e[d],s[d]))};g(l),o.provide(r,{locale:T,LL:p,setLocale:g})}}}};export{q as initI18nVuePlugin};
