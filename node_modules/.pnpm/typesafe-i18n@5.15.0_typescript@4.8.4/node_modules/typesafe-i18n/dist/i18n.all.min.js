"use strict";(()=>{var S=e=>Object.fromEntries(Object.entries(e).map(([r,t])=>r!=="i"&&t&&t!="0"&&[r,t]).filter(Boolean)),w=e=>Object.fromEntries(Object.keys(e).map(r=>{let t=e[r];return[r,Array.isArray(t)?t.map(s=>s==null?void 0:s.trim()):t===!!t?t:t==null?void 0:t.trim()]})),$=e=>{let[r="",...t]=e.split("|"),[s="",n]=r.split(":"),[a,i]=s.split("?");return{k:a,i:n,n:i==="",f:t}},C=(e,r)=>{let[t,s]=e.split(":");s||(s=t,t=r);let n=s.split("|"),[a,i,o,l,g,c]=n,y=n.filter(k=>k!==void 0).length;return y===1?{k:t,r:a}:y===2?{k:t,o:a,r:i}:y===3?{k:t,z:a,o:i,r:o}:{k:t,z:a,o:i,t:o,f:l,m:g,r:c}},x=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,T=e=>e.substring(1,e.length-1),P=(e,r=!0,t="",s="")=>e.split(x).map(n=>{if(!n.match(x))return n;let a=T(n);if(a.startsWith("{"))return C(T(a),s);let i=$(a);return s=i.k||s,!t&&(t=s),i}).map(n=>{if(typeof n=="string")return n;n.k||(n.k=t||"0");let a=w(n);return r?S(a):a});var j=e=>!!(e.o||e.r),D=/^\{.*\}$/,E=(e,r,t)=>r.reduce((s,n)=>{var a,i;return(i=n.match(D)?(()=>{var l;let o=Object.fromEntries(T(n).split(",").map(g=>g.split(":").map(c=>c.trim())));return(l=o[s])!=null?l:o["*"]})():(a=e[n])==null?void 0:a.call(e,s))!=null?i:s},t),h=(e,{z:r,o:t,t:s,f:n,m:a,r:i},o)=>{switch(r&&o==0?"zero":e.select(o)){case"zero":return r;case"one":return t;case"two":return s;case"few":return n;case"many":return a;default:return i}},O=/\?\?/g,z=(e,r,t,s)=>e.map(n=>{if(typeof n=="string")return n;let{k:a="0",f:i=[]}=n,o=s[a];if(j(n))return((typeof o=="boolean"?o?n.o:n.r:h(r,n,o))||"").replace(O,o);let l=i.length?E(t,i,o):o;return(""+(l!=null?l:"")).trim()}).join(""),p=(e,r,t,s)=>{let n=s[0],a=n&&typeof n=="object"&&n.constructor===Object,i=s.length===1&&a?n:s;return z(e,r,t,i)};var m=(e,r)=>e[r]||(e[r]=P(r)),A=(e,r,t,s,...n)=>p(m(e,s),r,t,n),f=(e,r={})=>A.bind(null,{},new Intl.PluralRules(e),r),F=(e,r={})=>A.bind(null,{},new Intl.PluralRules(e),r);var L=(e,r)=>{let t={},s=new Intl.PluralRules(e);return(n,...a)=>p(m(t,n),s,r,a)};function d(e,r,t={}){return u(r,L(e,t))}function b(e,r,t={}){return u(r,L(e,t))}var B=(e={},r)=>typeof e=="string"?r.bind(null,e):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),e),u=(e,r)=>new Proxy(B(e,r),{get:(t,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(t).map(n=>B(n,r))):u(t[s],r)});var R=(e,r)=>{let t={};return new Proxy({},{get:(s,n)=>t[n]||(t[n]=d(n,e[n],r[n]))})};window.typesafeI18n={i18n:R,i18nString:f,typesafeI18nString:F,i18nObject:d,typesafeI18nObject:b};})();
