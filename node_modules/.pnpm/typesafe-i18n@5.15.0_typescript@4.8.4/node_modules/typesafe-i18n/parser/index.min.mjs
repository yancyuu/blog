var p=s=>Object.fromEntries(Object.entries(s).map(([a,t])=>a!=="i"&&t&&t!="0"&&[a,t]).filter(Boolean)),k=s=>Object.fromEntries(Object.keys(s).map(a=>{let t=s[a];return[a,Array.isArray(t)?t.map(r=>r==null?void 0:r.trim()):t===!!t?t:t==null?void 0:t.trim()]})),T=s=>{let[a="",...t]=s.split("|"),[r="",n]=a.split(":"),[e,i]=r.split("?");return{k:e,i:n,n:i==="",f:t}},y=(s,a)=>{let[t,r]=s.split(":");r||(r=t,t=a);let n=r.split("|"),[e,i,u,m,c,g]=n,o=n.filter(f=>f!==void 0).length;return o===1?{k:t,r:e}:o===2?{k:t,o:e,r:i}:o===3?{k:t,z:e,o:i,r:u}:{k:t,z:e,o:i,t:u,f:m,m:c,r:g}},l=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,P=s=>s.substring(1,s.length-1),A=(s,a=!0,t="",r="")=>s.split(l).map(n=>{if(!n.match(l))return n;let e=P(n);if(e.startsWith("{"))return y(P(e),r);let i=T(e);return r=i.k||r,!t&&(t=r),i}).map(n=>{if(typeof n=="string")return n;n.k||(n.k=t||"0");let e=k(n);return a?p(e):e});export{A as parseRawText,P as removeOuterBrackets};
